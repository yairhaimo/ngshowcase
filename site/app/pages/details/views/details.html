<div class="media details__title">
    <a class="pull-left" ui-sref="master.user({name:data.item.User.Name})">
        <img ng-src="{{data.item.User.AvatarUrl}}" class="media-object user-avatar user-avatar--lg img-circle" />
    </a>
    <div class="media-body">
        <h3 class="media-heading">{{data.item.Name}}</h3>
        <a ui-sref="master.user({name:data.item.User.Name})">{{data.item.User.Name}}</a>
    </div>
</div>
<div class="row">
    <div class="col-md-7 preview-window panel panel-default item--{{data.item.Type.Name | lowercase}}">
        <span ng-show="data.isLoading">Loading, please wait.</span>
        <iframe sandbox="allow-same-origin allow-scripts" ng-src="{{data.item.PlnkrUrl}}" frameborder="0" onload="finishedLoadingPlunker()" ng-hide="data.isLoading"></iframe>
    </div>
    <div class="col-md-4 col-md-offset-1">
        <div class="row">
            <div class="col-md-4">
                Type
            </div>
            <div class="col-md-8">
                {{data.item.Type.Name}}
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                Github
            </div>
            <div class="col-md-8">
                <a class="pull-left" ng-href="{{data.item.User.HomePageUrl}}">{{data.item.User.Name}}</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                Plunker
            </div>
            <div class="col-md-8">
                <a ng-href="{{Configuration.plnkrEditUrl}}{{data.item.PlnkrId}}{{Configuration.plnkrPreviewSuffix}}">I said plunker!</a>
            </div>
        </div>
    </div>
</div>
<div class="row" ng-if="Auth.isAuthenticated()">
    <div class="col-md-3">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Enter a comment" ng-model="newComment.Text" />
            <div class="input-group-btn">
                <button type="button" ng-click="postComment()" class="btn btn-default">
                    Post
                </button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-7">
        <div ng-repeat="comment in data.item.Comments | orderBy:'-Date' track by comment.Id" class="media">
            <a class="pull-left" ng-href="{{comment.User.HomePageUrl}}">
                <img ng-src="{{comment.User.AvatarUrl}}" class="media-object user-avatar user-avatar--sm img-circle" />
            </a>
            <div class="media-body">
                <h5 class="media-heading"><a ng-href="{{comment.User.HomePageUrl}}">{{comment.User.Name}}</a></h5>
                {{comment.Text}}
                <div class="comment__date">
                    {{comment.Date | date:'MMM d, y'}}
                </div>
            </div>

        </div>
    </div>
</div>
